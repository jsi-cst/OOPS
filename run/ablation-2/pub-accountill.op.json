{
    "openapi": "3.1.0",
    "info": {
        "title": "Auto-generated OAS of Accountill using OOPS",
        "version": "1.0.0"
    },
    "paths": {
        "/invoices/count": {
            "get": {
                "tags": [
                    "invoices"
                ],
                "summary": "Get total invoice count",
                "description": "Returns the total number of invoices for the specified creator. Used to generate invoice serial number.",
                "operationId": "c328df777e38812877a905acc521f5df",
                "parameters": [
                    {
                        "description": "Creator identifier to filter invoices by (matches the 'creator' field in InvoiceModel).",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "name": "searchQuery",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Total count of invoices matching the query",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Error occurred (returned with an error message)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/invoices/{id}": {
            "get": {
                "summary": "Get an invoice by ID",
                "description": "Retrieve a single invoice by its ID using InvoiceModel.findById(id). On success returns the invoice object with HTTP 200. On error returns a 409 with a JSON { message }.",
                "operationId": "5320b41751095b1dc783857fb4db3ab3",
                "parameters": [
                    {
                        "description": "Identifier of the invoice to retrieve",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK - Invoice retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict - Error retrieving invoice",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "summary": "Delete an invoice by id",
                "description": "Deletes an invoice identified by its MongoDB ObjectId. If the id is invalid, responds with 404. On success returns a JSON object with a message.",
                "operationId": "ac0e16356d1c1ab1c03e73f2c90085b5",
                "parameters": [
                    {
                        "description": "MongoDB ObjectId of the invoice to delete",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No invoice with that id (invalid ObjectId)",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "summary": "Update an invoice by id",
                "operationId": "0ba1330db537800630ace791f11b649e",
                "parameters": [
                    {
                        "description": "Invoice id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "requestBody": {
                    "description": "Invoice object with updated fields",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Updated invoice returned",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No invoice with that id",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/clients": {
            "get": {
                "summary": "Retrieve paginated list of clients",
                "description": "Returns a paginated list of clients. Accepts a query parameter 'page' (1-based) to select the page. Successful response returns an object with 'data' (array of client objects), 'currentPage', and 'numberOfPages'. On error the handler responds with status 404 and a message.",
                "operationId": "5ff07a98ce17c56682329e157245d957",
                "parameters": [
                    {
                        "description": "Page number (1-based) for pagination",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "minimum": 1.0
                        },
                        "name": "page",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A paginated list of clients",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "items": {
                                                "type": "object"
                                            },
                                            "type": "array"
                                        },
                                        "currentPage": {
                                            "type": "integer"
                                        },
                                        "numberOfPages": {
                                            "type": "integer"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "data",
                                        "currentPage",
                                        "numberOfPages"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found or error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Clients"
                ],
                "summary": "Create a new client",
                "description": "Creates a new client. The server adds a createdAt timestamp. On success returns the created client (201). On failure returns an error message (409).",
                "operationId": "7abf814f8d096d3b5c3b2ab389956bbb",
                "requestBody": {
                    "description": "Client object to create. The server will add createdAt automatically.",
                    "content": {
                        "application/json": {
                            "schema": {
                                "additionalProperties": true,
                                "type": "object",
                                "description": "Arbitrary client properties. Specific model fields are not available in the provided source."
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Client created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "description": "The created client object (includes server-added createdAt)."
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict - failed to create client",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "Error message"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/signin": {
            "post": {
                "tags": [
                    "users"
                ],
                "summary": "Authenticate a user (sign in)",
                "operationId": "4ad74073b0bb38e1b49b0342a934c784",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "description": "User email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "description": "User password (plain text as provided by client)"
                                    }
                                },
                                "type": "object",
                                "required": [
                                    "email",
                                    "password"
                                ]
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful authentication. Returns the user record, optional user profile, and a JWT token.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "result": {
                                            "type": "object",
                                            "description": "The authenticated user object as stored in the database"
                                        },
                                        "userProfile": {
                                            "type": [
                                                "object",
                                                "null"
                                            ],
                                            "description": "Associated user profile object if present, otherwise null"
                                        },
                                        "token": {
                                            "type": "string",
                                            "description": "JWT for the authenticated session (expires in 1 hour)"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "result",
                                        "token"
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid credentials"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User doesn't exist"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Something went wrong"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/profiles": {
            "get": {
                "summary": "Retrieve a profile by user",
                "description": "Retrieve a single profile by user id supplied in the query parameter 'searchQuery'. The controller performs ProfileModel.findOne({ userId: searchQuery }) and returns { data: profile } on success.",
                "operationId": "2051264695f83dead65fdcffc6f2092e",
                "parameters": [
                    {
                        "description": "User id to search profiles by (matched against the userId field).",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "name": "searchQuery",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response with the matched profile (data is null if no match).",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "_id": {
                                                    "type": "string"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "phoneNumber": {
                                                    "type": "string"
                                                },
                                                "businessName": {
                                                    "type": "string"
                                                },
                                                "contactAddress": {
                                                    "type": "string"
                                                },
                                                "logo": {
                                                    "type": "string"
                                                },
                                                "website": {
                                                    "type": "string"
                                                },
                                                "userId": {
                                                    "type": "string"
                                                },
                                                "createdAt": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Error response when an exception occurs.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Profiles"
                ],
                "summary": "Create a new profile",
                "operationId": "8752a928c02cef7de97e9b1505ed3d96",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "phoneNumber": {
                                        "type": "string"
                                    },
                                    "businessName": {
                                        "type": "string"
                                    },
                                    "contactAddress": {
                                        "type": "string"
                                    },
                                    "logo": {
                                        "type": "string"
                                    },
                                    "website": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "userId": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Profile created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "_id": {
                                            "type": "string"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "email": {
                                            "type": "string",
                                            "format": "email"
                                        },
                                        "phoneNumber": {
                                            "type": "string"
                                        },
                                        "businessName": {
                                            "type": "string"
                                        },
                                        "contactAddress": {
                                            "type": "string"
                                        },
                                        "logo": {
                                            "type": "string"
                                        },
                                        "website": {
                                            "type": "string",
                                            "format": "uri"
                                        },
                                        "userId": {
                                            "type": "string"
                                        },
                                        "createdAt": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Profile already exist (checked by email)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict or error while creating profile",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/signup": {
            "post": {
                "summary": "Create a new user (signup)",
                "description": "Register a new user account. Expects email, password and profile information. Returns the created user document (result), an associated userProfile (if any), and a JWT token. Possible errors: 400 for existing user or password mismatch; 500 for server errors.",
                "operationId": "78f91e1f43fc85ee1adaead0ce1a1016",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string"
                                    },
                                    "confirmPassword": {
                                        "type": "string"
                                    },
                                    "firstName": {
                                        "type": "string"
                                    },
                                    "lastName": {
                                        "type": "string"
                                    },
                                    "bio": {
                                        "type": "string"
                                    }
                                },
                                "type": "object",
                                "required": [
                                    "email",
                                    "password",
                                    "confirmPassword",
                                    "firstName",
                                    "lastName"
                                ]
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "User created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "result": {
                                            "properties": {
                                                "_id": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email"
                                                },
                                                "password": {
                                                    "type": "string"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "bio": {
                                                    "type": "string"
                                                }
                                            },
                                            "additionalProperties": true,
                                            "type": "object"
                                        },
                                        "userProfile": {
                                            "additionalProperties": true,
                                            "type": [
                                                "object",
                                                "null"
                                            ]
                                        },
                                        "token": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request (user already exists or passwords don't match)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/forgot": {
            "post": {
                "summary": "Request password reset email",
                "description": "Generates a password reset token for the user with the provided email, saves the token and expiry on the user record, and sends a reset email containing a link with the token.",
                "operationId": "bf3c189d687a86fe8e3fa728c14ba4d3",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    }
                                },
                                "type": "object",
                                "required": [
                                    "email"
                                ]
                            },
                            "examples": {
                                "example": {
                                    "value": {
                                        "email": "user@example.com"
                                    }
                                }
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Password reset email queued/sent",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "check your email"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "User does not exist in database",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "User does not exist in our database"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "error"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/reset": {
            "post": {
                "summary": "Reset a user's password using a reset token",
                "description": "Accepts a new password and a reset token; if the token is valid and not expired, the user's password is updated and the reset token fields are cleared.",
                "operationId": "ca4aad927c697eae9f3a88742c0d5703",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "password": {
                                        "type": "string",
                                        "description": "The new password to set for the user"
                                    },
                                    "token": {
                                        "type": "string",
                                        "description": "The password reset token that was sent to the user's email"
                                    }
                                },
                                "type": "object",
                                "required": [
                                    "password",
                                    "token"
                                ]
                            },
                            "example": {
                                "password": "newStrongPassword123",
                                "token": "f6a8b3c4d5e6f7..."
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Password updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                },
                                "example": {
                                    "message": "password updated success"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Invalid or expired reset token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                },
                                "example": {
                                    "error": "Try again session expired"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/profiles/{id}": {
            "get": {
                "tags": [
                    "Profiles"
                ],
                "summary": "Get a profile by ID",
                "description": "Retrieve a profile resource by its ID. Returns the profile as JSON on success; returns a 404 with an error message on failure.",
                "operationId": "0e0758678e766a383bbcd83d9b868a10",
                "parameters": [
                    {
                        "description": "Identifier of the profile to retrieve",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response containing the profile",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Profile object (schema inferred from server-side model; properties not detailed in provided source)"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Profile not found or other error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Profiles"
                ],
                "summary": "Delete a profile by id",
                "description": "Deletes a profile document identified by a MongoDB ObjectId. Returns 200 with a JSON message on successful deletion. Returns 404 if the provided id is not a valid ObjectId.",
                "operationId": "6d5f28bf560d239d3d5628dbdad98d88",
                "parameters": [
                    {
                        "description": "MongoDB ObjectId of the profile to delete",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Profile deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Profile deleted successfully."
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Invalid id or profile not found",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string",
                                    "example": "No profile with id: {id}"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No profile with id: {id}"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "Profiles"
                ],
                "summary": "Update a profile by id",
                "operationId": "9058f22bed9e64a22bf8969c68e939cc",
                "parameters": [
                    {
                        "description": "Profile id (MongoDB ObjectId)",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "requestBody": {
                    "description": "Profile fields to update. Any subset of these fields may be provided.",
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "phoneNumber": {
                                        "type": "string"
                                    },
                                    "businessName": {
                                        "type": "string"
                                    },
                                    "contactAddress": {
                                        "type": "string"
                                    },
                                    "logo": {
                                        "type": "string"
                                    },
                                    "website": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "userId": {
                                        "type": "string"
                                    },
                                    "createdAt": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "_id": {
                                        "type": "string"
                                    }
                                },
                                "additionalProperties": true,
                                "type": "object"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Updated profile returned",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "_id": {
                                            "type": "string"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "email": {
                                            "type": "string",
                                            "format": "email"
                                        },
                                        "phoneNumber": {
                                            "type": "string"
                                        },
                                        "businessName": {
                                            "type": "string"
                                        },
                                        "contactAddress": {
                                            "type": "string"
                                        },
                                        "logo": {
                                            "type": "string"
                                        },
                                        "website": {
                                            "type": "string",
                                            "format": "uri"
                                        },
                                        "userId": {
                                            "type": "string"
                                        },
                                        "createdAt": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "additionalProperties": true,
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Invalid id or profile not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "additionalProperties": true,
                                    "type": "object"
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/invoices": {
            "get": {
                "tags": [
                    "Invoices"
                ],
                "summary": "Retrieve invoices (optionally filtered by creator)",
                "operationId": "5eb5fc0052969d0953529caeb07b3e24",
                "parameters": [
                    {
                        "description": "Optional. When provided, limits results to invoices whose 'creator' equals this value.",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "name": "searchQuery",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response with invoices. If 'searchQuery' is provided, the controller returns an object with a 'data' array; otherwise it returns an array of invoices.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "items": {
                                                "additionalProperties": true,
                                                "type": "object"
                                            },
                                            "type": "array"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "items": {
                                                        "additionalProperties": true,
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "additionalProperties": false,
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found or error while fetching invoices (as returned by getInvoicesByUser).",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "additionalProperties": false,
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict or server error while fetching invoices (as returned by getInvoices).",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "additionalProperties": false,
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "41ddbb872256f08c97337c247115ced1",
                "parameters": [
                    {
                        "description": "Creator identifier used to filter invoices (matches InvoiceModel.creator). Optional.",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "name": "searchQuery",
                        "in": "query"
                    }
                ],
                "requestBody": {
                    "description": "Invoice object to create. Not required when querying by searchQuery.",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object"
                            }
                        }
                    },
                    "required": false
                },
                "responses": {
                    "200": {
                        "description": "Successful response when querying invoices by user.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "items": {
                                                "type": "object"
                                            },
                                            "type": "array"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "201": {
                        "description": "Invoice created successfully.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found or error occurred.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict or validation error; error.message returned.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/clients/user": {
            "get": {
                "tags": [
                    "clients"
                ],
                "summary": "Get clients by user",
                "description": "Retrieve clients filtered by a user identifier. Expects a query parameter 'searchQuery' whose value is used as the userId to find matching clients. Successful response returns an object with a 'data' array of client objects.",
                "operationId": "60152051a02e20ccd80dc965ef93fc7c",
                "parameters": [
                    {
                        "description": "User identifier to filter clients by (used as userId in the database).",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "searchQuery",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of clients matching the provided user identifier.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "items": {
                                                "type": "object",
                                                "description": "Client object (properties depend on ClientModel schema)"
                                            },
                                            "type": "array"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not found or an error occurred while fetching clients.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/clients/{id}": {
            "delete": {
                "operationId": "629e257caafd5a80e4e83e10c7621905",
                "parameters": [
                    {
                        "description": "MongoDB ObjectId of the client to delete",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Client deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Client deleted successfully"
                                        }
                                    },
                                    "type": "object",
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Client not found or invalid id",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string",
                                    "example": "No Client with that id"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "Clients"
                ],
                "summary": "Update a client by ID",
                "operationId": "3722afb5894d5cfbef3573dd600f3a9b",
                "parameters": [
                    {
                        "description": "MongoDB ObjectId of the client",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^[0-9a-fA-F]{24}$"
                        },
                        "name": "id",
                        "in": "path"
                    }
                ],
                "requestBody": {
                    "description": "Partial client object with fields to update",
                    "content": {
                        "application/json": {
                            "schema": {
                                "additionalProperties": true,
                                "type": "object",
                                "description": "Client properties to update"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Updated client returned",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": true,
                                    "type": "object",
                                    "description": "The updated client object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Client not found or invalid id",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string",
                                    "example": "No client with that id"
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}